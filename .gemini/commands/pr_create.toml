description = "差分から高品質なPR本文とタイトルを生成"

prompt = """
# タスク
カレントブランチと main の差分、コミットログ、関連Issueを読み解き、.github/pull_request_template.md の形式に沿った高品質な **PRタイトルと本文** を生成する。

# 手順
1.  **PRタイトル**: コミットログから、Conventional Commits形式（例: `feat(api): ...`）のタイトルを1行で生成する。
2.  **概要**: 変更の目的と全体像を2〜3行で記述する。なぜこの変更が必要だったのかを明確にする。
3.  **変更点**: `git diff` の内容を分析し、以下のカテゴリに分けて箇条書きで具体的に記述する。
    - `feat`: 新機能の追加
    - `fix`: バグ修正
    - `refactor`: リファクタリング
    - `perf`: パフォーマンス改善
    - `docs`: ドキュメントの変更
    - `test`: テストの追加・修正
    - `chore`: ビルドプロセスや補助ツールの変更
    - **破壊的変更**: `BREAKING CHANGE` があれば必ず明記する。
    - **DB変更**: データベーススキーマの変更があれば必ず明記する。
4.  **関連Issue**: コミットメッセージやブランチ名に含まれるIssue番号（例: `#123`）を抽出し、`Closes #123` のように記述する。

# ルール
- 各セクションは簡潔に、しかし要点を押さえて記述する。
- 専門用語を使いすぎず、誰にでも分かりやすい言葉で説明する。
- 不明な点や、後続タスクが必要な場合は `## 残タスク・懸念事項` セクションを設けて `TODO:` として記述する。
- 全ての情報は日本語で、そのままGitHubに貼り付けられるMarkdown形式で出力する。

# 出力形式
```markdown
<PRタイトル>

<PR本文>
```
"""
