description = "タスクファイルを確認し、完了したタスクにチェックを付けてアーカイブに移動"

prompt = """
# タスク
`docs/` 配下のタスクファイル（`*-tasks.md`）を読み込み、実装コードを確認して完了したタスクにチェックを付ける。すべて完了したタスクファイルは `docs/archive/` に移動し、`docs/todo.md` も更新する。

# 手順
1. **タスクファイルの検索**: `docs/` 配下の `*-tasks.md` ファイルをすべて検索する。
2. **実装状況の確認**: 各タスクファイルに記載されているタスクについて、実際のコードベースを確認する。
   - スキーマ定義タスク → `db/schema/` 配下のファイルを確認
   - API定義タスク → `app/api/` 配下のファイルを確認
   - 機能実装タスク → 該当するコンポーネントやファイルを確認
3. **チェックボックスの更新**: 実装済みのタスクは `- [ ]` を `- [x]` に変更する。
4. **完了判定**: タスクファイルのすべてのチェックボックスが `[x]` になっている場合、そのファイルは完了とみなす。
5. **アーカイブ移動**:
   - `docs/archive/` ディレクトリが存在しない場合は作成する
   - 完了したタスクファイルを `docs/archive/` に移動する
6. **todo.md の更新**: `docs/todo.md` を読み込み、完了したタスクに対応する項目を `[x]` に更新する。

# ルール
- タスクの完了判定は、実際のコードベースを確認して正確に行う。
- 部分的に完了しているタスクも正しくチェックを付ける。
- アーカイブ移動前に、本当にすべて完了しているか再確認する。
- `todo.md` の「今ココ」マーカーは、未完了の次のタスクに移動する。
- 作業内容を簡潔にユーザーに報告する。

# 出力形式
実行した作業内容を以下の形式で報告する：

```markdown
## タスクアーカイブ実行結果

### 更新したタスクファイル
- `ファイル名`: X個のタスクにチェックを付けました

### アーカイブに移動したファイル
- `ファイル名` (完了: YYYY-MM-DD)

### todo.md の更新
- X個の項目を完了にチェック
- 「今ココ」を「次のタスク名」に移動
```
"""
