# 麻雀成績管理アプリ（ルール確定版）

## 1️⃣ 点数ポイント（scorePt）

* 計算式：`(点数 - 25,000) ÷ 1,000`
* 小数点処理：**小数点を保持（切り捨てなし）**

  * 例：25,600 → **+0.6pt**
  * 例：24,900 → **-0.1pt**
  * 例：32,500 → **+7.5pt**

## 2️⃣ 順位ポイント（rankPt）

| 区分       | 配点                                |
| -------- | --------------------------------- |
| **第1試合** | 1位: 40 / 2位: 30 / 3位: 20 / 4位: 10 |
| **上位卓**  | 1位: 80/ 2位: 70 / 3位: 40 / 4位: 30  |
| **下位卓**  | 1位: 60 / 2位: 50 / 3位: 20 / 4位: 10 |

## 3️⃣ 合計ポイント（total）

`total = rankPt + scorePt`

## 4️⃣ 同点処理（tie-break）

* 座順優先：**東 → 南 → 西 → 北**（東が最優先）
* 同点時は座順で順位を確定し、**順位Ptは平均化せず通常配点**を適用

### 例（※上位卓の配点を適用したケース）

```
東 25000
南 25000
西 24000
北 26000
```

→ 順位：1位 北, 2位 東, 3位 南, 4位 西
→ 順位Pt：**80 / 70 / 40 / 30**

## 5️⃣ 試合の進め方

* **第1試合**：4卓×4人をランダム割当
* **第2試合以降**：
  前試合の上位２人が上位卓、下位２人が下位卓

## 6️⃣ 権限ロール

| 役割     | 権限                  |
| ------ | ------------------- |
| admin  | リーグ作成・ルール編集・プレイヤー管理 |
| scorer | 点数入力・修正             |
| viewer | 閲覧のみ                |

---
